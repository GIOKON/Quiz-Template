<section id="content-section-2" *ngIf="user">
  <div class="section-container container">
    <div class="gdlr-item gdlr-content-item" style="margin-bottom: 60px;">
      <p>
        <div class="clear"></div>
        <div class="gdlr-space" style="margin-top: -22px;"></div>
        <h5 class="gdlr-heading-shortcode " style="font-weight: bold;">Contact {{user.name}}. </h5>
        <div class="clear"></div>
        <div class="gdlr-space" style="margin-top: 25px;"></div>
        <div role="form" class="wpcf7" id="wpcf7-f4-o1" lang="en-US" dir="ltr">
          <div class="screen-reader-response"></div>
          <form class="quform" action="plugins/quform/process.php" method="post" enctype="multipart/form-data"
            onclick="">

            <div class="quform-elements">
              <div class="quform-element">
                <p>Your Name (required)
                  <br>
                  <span class="wpcf7-form-control-wrap your-name">
                    <input id="name" type="text" name="name" [(ngModel)]="emailInformation.sourceEmailName" size="40"
                      class="form-control-lg wpcf7-text wpcf7-validates-as-required" aria-required="true"
                      aria-invalid="false">
                  </span>
                </p>
              </div>
              <div class="quform-element">
                <p>Your Email (required)
                  <br>
                  <span class="wpcf7-form-control-wrap your-email">
                    <input id="email" type="text" name="email" [(ngModel)]="emailInformation.sourceEmail" size="40"
                      class="form-control-lg wpcf7-text wpcf7-email wpcf7-validates-as-required wpcf7-validates-as-email"
                      aria-required="true" aria-invalid="false">
                  </span>
                </p>
              </div>
              <div class="quform-element" *ngIf="!direct">
                <p>Listing
                  <br>
                  <span class="wpcf7-form-control-wrap your-name">
                    <select class="custom-select" (change)="setListing($event)" formControlName="cityName">
                      <option value="" disabled>Choose a listing</option>
                      <option *ngFor="let listing of user.listings" [ngValue]="listing.title">{{listing.title}}</option>
                    </select>
                  </span>
                </p>
              </div>
              <div class="quform-element" style="padding-right: 46px;" *ngIf="!direct">
                <p>Dates</p>
                <div class="row">
                  <div class="col-6">
                    <div class="dx-field-value" style="width: 100%;">
                      <dx-date-box [value]="now" [min]="now" (onValueChanged)="setFrom($event)" type="date" displayFormat="dd/MM/yyyy">
                      </dx-date-box>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="dx-field-value" style="width: 100%;">
                      <dx-date-box [value]="now" [min]="now" (onValueChanged)="setTo($event)" type="date" displayFormat="dd/MM/yyyy">
                      </dx-date-box>
                    </div>
                  </div>
                </div>
                <br>
              </div>
              <div class="row">
                <div class="quform-element col-4">
                  <p>Country Code
                    <br>
                    <span class="wpcf7-form-control-wrap your-name" style="padding-right: 0;">
                      <input type="text" (input)="code = $event.target.value" size="40"
                        class="form-control-lg wpcf7-text wpcf7-validates-as-required" aria-required="true"
                        aria-invalid="false">
                    </span>
                  </p>
                </div>
                <div class="quform-element col-8">
                  <p>Telephone
                    <br>
                    <span class="wpcf7-form-control-wrap your-name">
                      <input type="text" (input)="telephone = $event.target.value" size="40"
                        class="form-control-lg wpcf7-text wpcf7-validates-as-required" aria-required="true"
                        aria-invalid="false">
                    </span>
                  </p>
                </div>
              </div>
              <div class="quform-element">
                <p>Your Message
                  <br>
                  <span class="wpcf7-form-control-wrap your-message">
                    <textarea (input)="body = $event.target.value" cols="40" rows="10"
                      class="wpcf7-form-control wpcf7-textarea" aria-invalid="false"></textarea>
                  </span>
                </p>
              </div>
              <p>

                <p style="color: red;" *ngIf="formFailedValidation">*Please complete all the fields</p>
                <!-- Begin Submit button -->
                <div class="quform-submit">
                  <div class="quform-submit-inner">
                    <button class="submit-button" [disabled]="registerActive"
                      (click)="formSubmit()"><span><em>Send</em></span></button>
                  </div>
                  <div class="quform-loading-wrap"><span class="quform-loading"></span></div>
                </div>
            </div>
          </form>
        </div>
    </div>
    <div class="clear"></div>
  </div>
</section>
